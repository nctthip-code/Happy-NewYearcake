<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>To Cake ğŸ†</title>

<style>
html,body{
  margin:0;
  padding:0;
  background:black;
  overflow:hidden;
  height:100%;
}

/* à¸«à¸™à¹‰à¸²à¹€à¸£à¸´à¹ˆà¸¡ */
#msg{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  color:white;
  font-size:28px;
  font-family:sans-serif;
  text-align:center;
  z-index:10;
}

button{
  margin-top:20px;
  font-size:22px;
  padding:12px 25px;
  border-radius:30px;
  border:none;
  background:#ff4d8d;
  color:white;
}

canvas{
  position:fixed;
  top:0;
  left:0;
}

/* ğŸ’¬ à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸¥à¸­à¸¢ */
#fireText{
  position:fixed;
  left:50%;
  bottom:-40%;
  transform:translateX(-50%);
  color:#ffb3d9;
  font-size:34px;
  font-weight:bold;
  text-align:center;
  opacity:0;
  pointer-events:none;
  text-shadow:0 0 20px #ff4d8d;
  line-height:1.4;
  z-index:9;
}

.showText{
  animation: floatText 6s ease-out forwards;
}

@keyframes floatText{
  0%{bottom:-40%;opacity:0;}
  20%{opacity:1;}
  100%{bottom:55%;opacity:1;}
}

/* ğŸ–¼ï¸ à¸£à¸¹à¸›à¸¥à¸­à¸¢ */
#floatImg{
  position:fixed;
  left:50%;
  bottom:-40%;
  transform:translateX(-50%) scale(0.5);
  width:160px;
  opacity:0;
  pointer-events:none;
  z-index:8;
}

.floatShow{
  animation: floatImgUp 6s ease-out forwards;
}

@keyframes floatImgUp{
  0%{
    bottom:-40%;
    opacity:0;
    transform:translateX(-50%) scale(0.4);
  }
  20%{opacity:1;}
  80%{opacity:1;}
  100%{
    bottom:60%;
    opacity:0;
    transform:translateX(-50%) scale(1);
  }
}
</style>
</head>

<body>

<div id="msg">
  âœ¨ ğŸ’– Happy New Year cake ğŸ°ğŸ‰ âœ¨<br>
  <button onclick="start()">ğŸ† à¸à¸”à¹€à¸à¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡ ğŸ¶</button>
</div>

<!-- à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹€à¸‹à¸­à¸£à¹Œà¹„à¸à¸£à¸ªà¹Œ -->
<div id="fireText">
  ğŸ‰HAPPY NEW YEAR âœ¨<br>
  ğŸ«‚à¸­à¸¢à¸¹à¹ˆà¸”à¹‰à¸§à¸¢à¸à¸±à¸™à¹„à¸›à¸™à¸²à¸™à¹†à¸™à¹‰à¸² ğŸ’•<br>
  ğŸ’•à¸£à¸±à¸à¸¡à¸²à¸à¹† à¸ˆà¸¸à¹Šà¸šà¹† ğŸ˜»ğŸ’“
</div>

<audio id="music" src="music.mp3"></audio>
<canvas id="c"></canvas>

<!-- à¸£à¸¹à¸›à¸¥à¸­à¸¢ -->
<img id="floatImg" src="img1.png">

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
resize();
window.onresize = resize;

function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}

/* ğŸ† à¸à¸¥à¸¸à¸«à¸±à¸§à¹ƒà¸ˆ */
let hearts = [];

function createHeartFirework(){
  let cx = Math.random() * canvas.width;
  let cy = Math.random() * canvas.height / 2;

  for(let t=0; t<Math.PI*2; t+=0.15){
    let x = 16 * Math.pow(Math.sin(t),3);
    let y = -(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
    hearts.push({
      x: cx,
      y: cy,
      vx: x * 0.4,
      vy: y * 0.4,
      life: 100,
      color: `hsl(${Math.random()*360},100%,70%)`
    });
  }
}

function loop(){
  ctx.fillStyle="rgba(0,0,0,0.25)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  hearts.forEach(h=>{
    h.x += h.vx;
    h.y += h.vy;
    h.vy += 0.03;
    h.life--;
    ctx.fillStyle = h.color;
    ctx.beginPath();
    ctx.arc(h.x,h.y,3,0,Math.PI*2);
    ctx.fill();
  });

  hearts = hearts.filter(h=>h.life>0);
  requestAnimationFrame(loop);
}

/* ğŸ–¼ï¸ à¸£à¸¹à¸›à¸¥à¸­à¸¢à¸«à¸¥à¸²à¸¢à¸£à¸¹à¸› */
const images = ["img1.jpg","img2.jpg","img3.jpg"];
let imgIndex = 0;

function showNextImage(){
  const img = document.getElementById("floatImg");
  img.src = images[imgIndex];
  img.classList.remove("floatShow");
  void img.offsetWidth;
  img.classList.add("floatShow");

  imgIndex = (imgIndex + 1) % images.length;
}

/* â–¶ï¸ à¹€à¸£à¸´à¹ˆà¸¡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” */
function start(){
  document.getElementById("music").play().catch(()=>{});
  document.getElementById("msg").style.display="none";

  const text = document.getElementById("fireText");
  text.classList.add("showText");

  showNextImage();
  setInterval(showNextImage,3000);

  setInterval(createHeartFirework,700);
  requestAnimationFrame(loop);
}
</script>

</body>
</html>
